<div class="container">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">
        <div class="row">
            <div class="form-group col-md-12">
                <label for="nome">Nome</label>
                <input type="text"
                    [ngClass]="!nome.valid && nome.touched ? 'form-control is-invalid' : 'form-control'"
                class="form-control" id="nome" placeholder="Nome" name="nome" [(ngModel)]="usuario.nome"
                    required #nome="ngModel">
                <div *ngIf="!nome.valid && nome.touched" class="invalid-feedback">
                    Nome é obrigatório
                </div>
            </div>

            <div class="form-group col-md-12">
                <label for="email">Email</label>
                <input type="email" 
                    [ngClass]="!email.valid && email.touched ? 'form-control is-invalid' : 'form-control'"
                    id="email" placeholder="nome@email.com" name="email" [(ngModel)]="usuario.email"
                    required
                    email #email="ngModel">
                    <div *ngIf="!email.valid && email.touched && email.errors?.['required']" class="invalid-feedback">
                        E-mail é obrigatório
                    </div>
    
                    <div *ngIf="!email.valid && email.touched && email.errors?.['email']" class="invalid-feedback">
                        E-mail é inválido
                    </div>
            </div>
        </div>
        
        <div class="row">
            <div class="form-group col-md-4">
                <label for="cep">CEP</label>
                <input type="text" 
                    [ngClass]="!cep.valid && cep.touched ? 'form-control is-invalid' : 'form-control'"
                    id="cep" placeholder="cep" name="cep" [(ngModel)]="usuario.cep"
                    required
                    #cep="ngModel">
                    <div *ngIf="!cep.valid && cep.touched && cep.errors?.['required']" class="invalid-feedback">
                        CEP é inválido
                    </div>
            </div>

            <div class="form-group col-md-4">
                <label for="numero">Número</label>
                <input type="text" 
                    [ngClass]="!numero.valid && numero.touched ? 'form-control is-invalid' : 'form-control'"
                    id="numero" placeholder="numero" name="numero" [(ngModel)]="usuario.numero"
                    required
                    #numero="ngModel">
                    <div *ngIf="!numero.valid && numero.touched && numero.errors?.['required']" class="invalid-feedback">
                        Número é inválido
                    </div>
            </div>

            <div class="form-group col-md-4">
                <label for="complemento">Complemento</label>
                <input type="text" 
                    [ngClass]="!complemento.valid && complemento.touched ? 'form-control is-invalid' : 'form-control'"
                    id="complemento" placeholder="complemento" name="complemento" [(ngModel)]="usuario.complemento"
                    required
                    #complemento="ngModel">
                    <div *ngIf="!complemento.valid && complemento.touched && complemento.errors?.['required']" class="invalid-feedback">
                        Complemento é inválido
                    </div>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-12">
                <label for="rua">Rua</label>
                <input type="text"
                    class="form-control readonly" id="rua" placeholder="rua" name="rua" [(ngModel)]="usuario.rua"
                    #rua="ngModel" readonly required>
                <div *ngIf="!rua.valid && rua.touched && rua.errors?.['required']" class="invalid-feedback">
                    Rua é inválido
                </div>
            </div>                
        </div>

        <div class="row">
            <div class="form-group col-md-5">
                <label for="bairro">Bairro</label>
                <input type="text"
                    class="form-control readonly" id="bairro" placeholder="bairro" name="bairro" [(ngModel)]="usuario.bairro"
                    #bairro="ngModel" readonly required>
                <div *ngIf="!bairro.valid && bairro.touched && bairro.errors?.['required']" class="invalid-feedback">
                    Bairro é inválido
                </div>
            </div>
            
            <div class="form-group col-md-4">
                <label for="cidade">Cidade</label>
                <input type="text"
                    class="form-control readonly" id="cidade" placeholder="cidade" name="cidade" [(ngModel)]="usuario.cidade"
                    #cidade="ngModel" readonly required>
                <div *ngIf="!cidade.valid && cidade.touched && cidade.errors?.['required']" class="invalid-feedback">
                    Bairro é inválido
                </div>
            </div>

            <div class="form-group col-md-3">
                <label for="estado">Estado</label>
                <input type="text"
                    class="form-control readonly" id="estado" placeholder="estado" name="estado" [(ngModel)]="usuario.estado"
                    #estado="ngModel" readonly required>
                <div *ngIf="!estado.valid && estado.touched && estado.errors?.['required']" class="invalid-feedback">
                    Estado é inválido
                </div>
            </div>
        </div>

        <div style="margin-top: 15px;">
            <button type="submit" class="btn btn-primary"
                [disabled]="!f.valid"
            >
                Submit
            </button>
        </div>

        <app-form-debug [form]="f"></app-form-debug>
    </form>
</div>